
> yazi-quest@0.0.0 test:e2e
> playwright test e2e/keyboard-commands.spec.ts


Running 28 tests using 6 workers

[1A[2K[1/28] [chromium] â€º e2e/keyboard-commands.spec.ts:26:3 â€º Keyboard Commands - g-Command Mode â€º should enter g-command mode with first g press
[1A[2K[2/28] [chromium] â€º e2e/keyboard-commands.spec.ts:72:3 â€º Keyboard Commands - g-Command Mode â€º should jump to datastore with gd command
[1A[2K[3/28] [chromium] â€º e2e/keyboard-commands.spec.ts:36:3 â€º Keyboard Commands - g-Command Mode â€º should jump to home with gh command
[1A[2K[4/28] [chromium] â€º e2e/keyboard-commands.spec.ts:57:3 â€º Keyboard Commands - g-Command Mode â€º should jump to incoming with gi command
[1A[2K[5/28] [chromium] â€º e2e/keyboard-commands.spec.ts:83:3 â€º Keyboard Commands - g-Command Mode â€º should jump to config with gc command
[1A[2K[6/28] [chromium] â€º e2e/keyboard-commands.spec.ts:94:3 â€º Keyboard Commands - g-Command Mode â€º should jump to tmp with gt command
[1A[2K[7/28] [chromium] â€º e2e/keyboard-commands.spec.ts:105:3 â€º Keyboard Commands - g-Command Mode â€º should jump to root with gr command
[1A[2K[8/28] [chromium] â€º e2e/keyboard-commands.spec.ts:122:3 â€º Keyboard Commands - g-Command Mode â€º should block gw (workspace) in Episode I (protected directory)
[1A[2K[9/28] [chromium] â€º e2e/keyboard-commands.spec.ts:144:3 â€º Keyboard Commands - g-Command Mode â€º should allow gw (workspace) in Episode II Level 6+
[1A[2K[10/28] [chromium] â€º e2e/keyboard-commands.spec.ts:168:3 â€º Keyboard Commands - FZF Mode â€º should enter FZF mode with z key
[1A[2K  1) [chromium] â€º e2e/keyboard-commands.spec.ts:36:3 â€º Keyboard Commands - g-Command Mode â€º should jump to home with gh command 

    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"guest"[39m
    Received string:    [31m"~"[39m

      51 |     // Verify we're at home
      52 |     const path2 = await getCurrentPath(page);
    > 53 |     expect(path2).toContain('guest');
         |                   ^
      54 |     expect(path2).not.toContain('datastore');
      55 |   });
      56 |
        at /home/mhenke/Projects/yazi-quest/e2e/keyboard-commands.spec.ts:53:19

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/keyboard-commands-Keyboard-d7978-ump-to-home-with-gh-command-chromium/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/keyboard-commands-Keyboard-d7978-ump-to-home-with-gh-command-chromium/error-context.md


[1A[2K[11/28] [chromium] â€º e2e/keyboard-commands.spec.ts:199:3 â€º Keyboard Commands - FZF Mode â€º should jump to selected item with Enter in FZF mode
[1A[2K[12/28] [chromium] â€º e2e/keyboard-commands.spec.ts:182:3 â€º Keyboard Commands - FZF Mode â€º should filter files in FZF mode as user types
[1A[2K[13/28] [chromium] â€º e2e/keyboard-commands.spec.ts:217:3 â€º Keyboard Commands - FZF Mode â€º should exit FZF mode with Escape
[1A[2K[14/28] [chromium] â€º e2e/keyboard-commands.spec.ts:233:3 â€º Keyboard Commands - FZF Mode â€º should navigate FZF results with Ctrl+N and Ctrl+P
[1A[2K  2) [chromium] â€º e2e/keyboard-commands.spec.ts:168:3 â€º Keyboard Commands - FZF Mode â€º should enter FZF mode with z key 

    Error: [2mexpect([22m[31mlocator[39m[2m).[22mtoBeVisible[2m([22m[2m)[22m failed

    Locator: locator('input').first()
    Expected: visible
    Timeout: 2000ms
    Error: element(s) not found

    Call log:
    [2m  - Expect "toBeVisible" with timeout 2000ms[22m
    [2m  - waiting for locator('input').first()[22m


      173 |     // FZF input should be visible
      174 |     const fzfInput = page.locator('input').first();
    > 175 |     await expect(fzfInput).toBeVisible({ timeout: 2000 });
          |                            ^
      176 |     await expect(fzfInput).toBeFocused();
      177 |
      178 |     // Exit FZF
        at /home/mhenke/Projects/yazi-quest/e2e/keyboard-commands.spec.ts:175:28

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/keyboard-commands-Keyboard-1ea95-d-enter-FZF-mode-with-z-key-chromium/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/keyboard-commands-Keyboard-1ea95-d-enter-FZF-mode-with-z-key-chromium/error-context.md


[1A[2K  3) [chromium] â€º e2e/keyboard-commands.spec.ts:144:3 â€º Keyboard Commands - g-Command Mode â€º should allow gw (workspace) in Episode II Level 6+ 

    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"workspace"[39m
    Received string:    [31m"~"[39m

      155 |     // We should successfully navigate to workspace
      156 |     const path = await getCurrentPath(page);
    > 157 |     expect(path).toContain('workspace');
          |                  ^
      158 |   });
      159 | });
      160 |
        at /home/mhenke/Projects/yazi-quest/e2e/keyboard-commands.spec.ts:157:18

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/keyboard-commands-Keyboard-e6ac3-pace-in-Episode-II-Level-6--chromium/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/keyboard-commands-Keyboard-e6ac3-pace-in-Episode-II-Level-6--chromium/error-context.md


[1A[2K[15/28] [chromium] â€º e2e/keyboard-commands.spec.ts:266:3 â€º Keyboard Commands - Zoxide Mode â€º should enter Zoxide mode with Shift+Z
[1A[2K[16/28] [chromium] â€º e2e/keyboard-commands.spec.ts:286:3 â€º Keyboard Commands - Zoxide Mode â€º should allow typing k and j in Zoxide mode (not navigation)
[1A[2K  4) [chromium] â€º e2e/keyboard-commands.spec.ts:199:3 â€º Keyboard Commands - FZF Mode â€º should jump to selected item with Enter in FZF mode 

    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"datastore"[39m
    Received string:    [31m"~"[39m

      212 |     // Should have navigated to datastore
      213 |     const path = await getCurrentPath(page);
    > 214 |     expect(path).toContain('datastore');
          |                  ^
      215 |   });
      216 |
      217 |   test('should exit FZF mode with Escape', async ({ page }) => {
        at /home/mhenke/Projects/yazi-quest/e2e/keyboard-commands.spec.ts:214:18

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/keyboard-commands-Keyboard-8e166-item-with-Enter-in-FZF-mode-chromium/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/keyboard-commands-Keyboard-8e166-item-with-Enter-in-FZF-mode-chromium/error-context.md


[1A[2K  5) [chromium] â€º e2e/keyboard-commands.spec.ts:182:3 â€º Keyboard Commands - FZF Mode â€º should filter files in FZF mode as user types 

    Error: [2mexpect([22m[31mlocator[39m[2m).[22mtoBeVisible[2m([22m[2m)[22m failed

    Locator: locator('text=datastore')
    Expected: visible
    Error: strict mode violation: locator('text=datastore') resolved to 37 elements:
        1) <span class="">datastore</span> aka locator('[data-test-id="file-datastore"]').getByText('datastore')
        2) <span class="truncate">â€¦</span> aka getByText('/home/guest/datastore/legacy_admin_notes.log')
        3) <span class="truncate">â€¦</span> aka getByText('/home/guest/datastore/DO_NOT_DELETE.txt')
        4) <span class="truncate">â€¦</span> aka getByText('/home/guest/datastore/auth_token.tmp')
        5) <span class="truncate">â€¦</span> aka getByText('/home/guest/datastore/error.')
        6) <span class="truncate">â€¦</span> aka getByText('/home/guest/datastore/notes_v2.txt')
        7) <span class="truncate">â€¦</span> aka getByText('/home/guest/datastore/notes_v1.txt')
        8) <span class="truncate">â€¦</span> aka getByText('/home/guest/datastore/branding_logo.svg')
        9) <span class="truncate">â€¦</span> aka getByText('/home/guest/datastore/manifest.json')
        10) <span class="truncate">â€¦</span> aka getByText('/home/guest/datastore/LICENSE')
        ...

    Call log:
    [2m  - Expect "toBeVisible" with timeout 1000ms[22m
    [2m  - waiting for locator('text=datastore')[22m


      191 |     // FZF should show filtered results
      192 |     const fzfResults = page.locator('text=datastore');
    > 193 |     await expect(fzfResults).toBeVisible({ timeout: 1000 });
          |                              ^
      194 |
      195 |     // Exit FZF
      196 |     await pressKey(page, 'Escape');
        at /home/mhenke/Projects/yazi-quest/e2e/keyboard-commands.spec.ts:193:30

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/keyboard-commands-Keyboard-9210b-s-in-FZF-mode-as-user-types-chromium/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/keyboard-commands-Keyboard-9210b-s-in-FZF-mode-as-user-types-chromium/error-context.md


[1A[2K[17/28] [chromium] â€º e2e/keyboard-commands.spec.ts:311:3 â€º Keyboard Commands - Zoxide Mode â€º should navigate Zoxide results with Ctrl+N and Ctrl+P
[1A[2K[18/28] [chromium] â€º e2e/keyboard-commands.spec.ts:351:3 â€º Keyboard Commands - Cut/Paste/Delete â€º should cut file with x key
[1A[2K  6) [chromium] â€º e2e/keyboard-commands.spec.ts:217:3 â€º Keyboard Commands - FZF Mode â€º should exit FZF mode with Escape 

    Error: [2mexpect([22m[31mlocator[39m[2m).[22mtoBeVisible[2m([22m[2m)[22m failed

    Locator: locator('input').first()
    Expected: visible
    Timeout: 5000ms
    Error: element(s) not found

    Call log:
    [2m  - Expect "toBeVisible" with timeout 5000ms[22m
    [2m  - waiting for locator('input').first()[22m


      221 |
      222 |     const fzfInput = page.locator('input').first();
    > 223 |     await expect(fzfInput).toBeVisible();
          |                            ^
      224 |
      225 |     // Exit with Escape
      226 |     await pressKey(page, 'Escape');
        at /home/mhenke/Projects/yazi-quest/e2e/keyboard-commands.spec.ts:223:28

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/keyboard-commands-Keyboard-68b0f-d-exit-FZF-mode-with-Escape-chromium/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/keyboard-commands-Keyboard-68b0f-d-exit-FZF-mode-with-Escape-chromium/error-context.md


[1A[2K[19/28] [chromium] â€º e2e/keyboard-commands.spec.ts:367:3 â€º Keyboard Commands - Cut/Paste/Delete â€º should yank (copy) file with y key
[1A[2K[20/28] [chromium] â€º e2e/keyboard-commands.spec.ts:382:3 â€º Keyboard Commands - Cut/Paste/Delete â€º should paste file with p key
[1A[2K  7) [chromium] â€º e2e/keyboard-commands.spec.ts:233:3 â€º Keyboard Commands - FZF Mode â€º should navigate FZF results with Ctrl+N and Ctrl+P 

    Error: [2mexpect([22m[31mlocator[39m[2m).[22mtoBeVisible[2m([22m[2m)[22m failed

    Locator: locator('input').first()
    Expected: visible
    Timeout: 5000ms
    Error: element(s) not found

    Call log:
    [2m  - Expect "toBeVisible" with timeout 5000ms[22m
    [2m  - waiting for locator('input').first()[22m


      250 |     // FZF should still be open
      251 |     const fzfInput = page.locator('input').first();
    > 252 |     await expect(fzfInput).toBeVisible();
          |                            ^
      253 |
      254 |     // Exit
      255 |     await pressKey(page, 'Escape');
        at /home/mhenke/Projects/yazi-quest/e2e/keyboard-commands.spec.ts:252:28

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/keyboard-commands-Keyboard-197fc-ults-with-Ctrl-N-and-Ctrl-P-chromium/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/keyboard-commands-Keyboard-197fc-ults-with-Ctrl-N-and-Ctrl-P-chromium/error-context.md


[1A[2K[21/28] [chromium] â€º e2e/keyboard-commands.spec.ts:430:3 â€º Keyboard Commands - Cut/Paste/Delete â€º should cancel delete with Escape
[1A[2K[22/28] [chromium] â€º e2e/keyboard-commands.spec.ts:405:3 â€º Keyboard Commands - Cut/Paste/Delete â€º should enter delete mode with d key and confirm with y
[1A[2K[23/28] [chromium] â€º e2e/keyboard-commands.spec.ts:449:3 â€º Keyboard Commands - Cut/Paste/Delete â€º should select multiple files with Space
[1A[2K[24/28] [chromium] â€º e2e/keyboard-commands.spec.ts:468:3 â€º Keyboard Commands - Cut/Paste/Delete â€º should cut multiple selected files with x
[1A[2K[25/28] [chromium] â€º e2e/keyboard-commands.spec.ts:496:3 â€º Keyboard Commands - Directory Navigation â€º should enter directory with l key
[1A[2K[26/28] [chromium] â€º e2e/keyboard-commands.spec.ts:513:3 â€º Keyboard Commands - Directory Navigation â€º should go to parent directory with h key
[1A[2K[27/28] [chromium] â€º e2e/keyboard-commands.spec.ts:532:3 â€º Keyboard Commands - Directory Navigation â€º should toggle hidden files with . (dot) key
[1A[2K[28/28] [chromium] â€º e2e/keyboard-commands.spec.ts:549:3 â€º Keyboard Commands - Directory Navigation â€º should preview file with Tab key
[1A[2K  7 failed
    [chromium] â€º e2e/keyboard-commands.spec.ts:36:3 â€º Keyboard Commands - g-Command Mode â€º should jump to home with gh command 
    [chromium] â€º e2e/keyboard-commands.spec.ts:144:3 â€º Keyboard Commands - g-Command Mode â€º should allow gw (workspace) in Episode II Level 6+ 
    [chromium] â€º e2e/keyboard-commands.spec.ts:168:3 â€º Keyboard Commands - FZF Mode â€º should enter FZF mode with z key 
    [chromium] â€º e2e/keyboard-commands.spec.ts:182:3 â€º Keyboard Commands - FZF Mode â€º should filter files in FZF mode as user types 
    [chromium] â€º e2e/keyboard-commands.spec.ts:199:3 â€º Keyboard Commands - FZF Mode â€º should jump to selected item with Enter in FZF mode 
    [chromium] â€º e2e/keyboard-commands.spec.ts:217:3 â€º Keyboard Commands - FZF Mode â€º should exit FZF mode with Escape 
    [chromium] â€º e2e/keyboard-commands.spec.ts:233:3 â€º Keyboard Commands - FZF Mode â€º should navigate FZF results with Ctrl+N and Ctrl+P 
  21 passed (44.9s)

[36m  Serving HTML report at http://localhost:33001. Press Ctrl+C to quit.[39m
